%script{type: "text/x-template", id: "vue-owned-plugin-form"}
  .form-group.card.bg-light.mb-3{"v-bind:id" => "id"}
    .card-body
      %label{"v-bind:for" => "selectId(pluginType)"}
        {{ pluginLabel }}
      %select{"v-bind:id" => "selectId(pluginType)",
              "v-bind:class" => "selectClass(pluginType)",
              "v-bind:name" => "selectName(pluginType)",
              "v-model" => "pluginName",
              "v-on:change" => "onChange"}
        %option{"v-for" => "option in options",
                "v-bind:value" => "option",
                "v-bind:selected" => "pluginName===option"}
          {{ option }}
      .form-group{ "v-for" => "option in commonOptions" }
        %template{"v-if" => 'option.type==="enum"'}
          %label{"v-bind:for" => "inputId(pluginType, option)",
                 "data-toggle" => "tooltip",
                 "data-placement" => "right",
                 "v-bind:title" => "option.desc"}
            {{ option.name }}
          %select{"v-bind:id" => "inputId(pluginType, option)",
                  "v-bind:name" => "inputName(pluginType, option)",
                  "class" => "form-control"}
            %option{"v-for" => "item in option.list",
                    "v-bind:value" => "item",
                    "v-bind:selected" => "option.default === item"}
              {{ item }}
        %template{"v-else-if" => 'option.type==="bool"'}
          %input{"v-bind:id" => "inputId(pluginType, option)",
                 "v-bind:name" => "inputName(pluginType, option)",
                 "v-bind:checked" => "checked(option.default)",
                 "type" => "checkbox"}
          %label{"v-bind:for" => "inputId(pluginType, option)",
                 "data-toggle" => "tooltip",
                 "data-placement" => "right",
                 "v-bind:title" => "option.desc"}
            {{ option.name }}
        %template(v-else)
          %label{"v-bind:for" => "inputId(pluginType, option)",
                 "data-toggle" => "tooltip",
                 "data-placement" => "right",
                 "v-bind:title" => "option.desc"}
            {{ option.name }}
          %template{"v-if" => 'option.name === "expression"'}
            %input{"v-bind:id" => "inputId(pluginType, option)",
                   "v-bind:name" => "inputName(pluginType, option)",
                   "v-model.lazy" => "expression",
                   "type" => "text",
                   "class" => "form-control"}
          %template{"v-else-if" => 'option.name === "time_format"'}
            %input{"v-bind:id" => "inputId(pluginType, option)",
                   "v-bind:name" => "inputName(pluginType, option)",
                   "v-model.lazy" => "timeFormat",
                   "type" => "text",
                   "class" => "form-control"}
          %template(v-else)
            %input{"v-bind:id" => "inputId(pluginType, option)",
                   "v-bind:name" => "inputName(pluginType, option)",
                   "v-bind:value" => "option.default",
                   "type" => "text",
                   "class" => "form-control"}
