<%- add_javascript_pack_tag('codemirror') %>

<script type="text/x-template" id="vue-setting-section">

<div class="card card-primary mb-3">
  <div class="card-header" data-toggle="collapse" v-bind:href="'#'+id" v-bind:title="content">
    <i class="fa fa-caret-down"></i>
    {{ type }}
    <span v-if="!_.isEmpty(arg) && (name == 'match' || name == 'filter')">({{ arg }})</span>
  </div>
  <div class="card-body collapse" v-bind:id="id">
    <pre v-if="mode != 'edit'">{{ content }}</pre>
    <p v-if="mode == 'edit'">
      <textarea v-config-editor class="form-control" v-model.lazy="content" v-bind:disabled="processing"></textarea>
    </p>
    <p class="float-right">
      <button v-if="mode != 'edit'" class="btn btn-secondary" v-on:click="onEdit"><%= t('terms.edit') %></button>
      <button v-if="mode != 'edit'" class="btn btn-danger" v-on:click="onDelete"><%= t('terms.destroy') %></button>
      <button v-if="mode == 'edit'" class="btn btn-secondary" v-on:click="onCancel"><%= t('terms.cancel') %></button>
      <button v-if="mode == 'edit'" class="btn btn-primary" v-on:click="onSubmit"><%= t('terms.save') %></button>
    </p>
  </div>
</div>

</script>
